<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>测试表单</title>
</head>
<body>
    <h1>测试表单提交</h1>
    <form id="testForm">
        <div>
            <label>姓名 *</label>
            <input type="text" name="name" required>
        </div>
        <div>
            <label>邮箱 *</label>
            <input type="email" name="email" required>
        </div>
        <div>
            <label>留言</label>
            <textarea name="message"></textarea>
        </div>
        <button type="submit">提交</button>
    </form>

    <div id="result"></div>

    <script>
        document.getElementById('testForm').onsubmit = async (e) => {
            e.preventDefault();
            const formData = new FormData(e.target);
            const data = Object.fromEntries(formData);

            console.log('提交的数据:', data);
            document.getElementById('result').innerHTML = '<pre>' + JSON.stringify(data, null, 2) + '</pre>';

            const response = await fetch('https://form.178000.cn/api/submit', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ formId: 'contact-form', submission: data })
            });
            const result = await response.json();
            alert(result.success ? '提交成功！' : '提交失败');
        };
    </script>
</body>
</html>
